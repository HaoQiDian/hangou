webpackJsonp([0],{EGHP:function(t,e){},EWZB:function(t,e){},Eg6o:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"bar bar-nav app-header"},[e("a",{staticClass:"icon icon-app pull-left",on:{click:this.toggleSelect}}),this._v(" "),e("a",{staticClass:"icon icon-edit pull-right",on:{click:this.toggleInsertBox}}),this._v(" "),e("h1",{staticClass:"title"},[this._v("ToDoList")])])},staticRenderFns:[]},i=n("VU/8")({name:"app-header",props:["toggleInsertBox"],data:function(){return{}},methods:{toggleSelect:function(){this.$emit("toggle-select")}}},s,!1,function(t){n("ZzMW")},"data-v-3fd87fcf",null).exports,c=n("mvHQ"),a=n.n(c),l=new o.a,r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card app-todo",class:{finished:t.todo.isFinished}},[n("div",{staticClass:"check-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.isSelected,expression:"todo.isSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.isSelected)?t._i(t.todo.isSelected,null)>-1:t.todo.isSelected},on:{change:function(e){var n=t.todo.isSelected,o=e.target,s=!!o.checked;if(Array.isArray(n)){var i=t._i(n,null);o.checked?i<0&&(t.todo.isSelected=n.concat([null])):i>-1&&(t.todo.isSelected=n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.todo,"isSelected",s)}}})]),t._v(" "),n("div",{staticClass:"card-content todo-card"},[n("div",{staticClass:"card-content-inner todo-content"},[t._v(t._s(t.todo.content))]),t._v(" "),n("div",{staticClass:"control-box"},[n("button",{staticClass:"button button-small button-success",class:{"button-fill":t.todo.isFinished},on:{click:function(e){t.finish(t.todo.id)}}},[n("span",{staticClass:"icon icon-check"})]),t._v(" "),n("button",{staticClass:"button button-fill button-small button-danger",on:{click:function(e){t.remove(t.todo.id)}}},[n("span",{staticClass:"icon icon-remove"})])])])])},staticRenderFns:[]},d={name:"app-content",props:["toggleInsertBox","isSelect"],data:function(){return{aaa:JSON.parse(localStorage.todos?localStorage.todos:"[]").length,todos:JSON.parse(localStorage.todos?localStorage.todos:"[]"),showType:"all"}},methods:{addNewTodo:function(t){this.aaa++,this.todos.push({id:this.aaa,content:t,isFinished:!1,isSelected:!1}),this.toggleInsertBox(),this.updateStorage()},finish:function(t){this.todos.forEach(function(e){e.id==t&&(e.isFinished=!e.isFinished)}),this.updateStorage()},remove:function(t){for(var e=0;e<this.todos.length;e++)this.todos[e].id==t&&this.todos.splice(e,1);this.updateStorage()},controlSelected:function(t){if(3==t){var e=[];return this.todos.forEach(function(t){t.isSelected||e.push(t)}),void(this.todos=e)}this.todos.forEach(function(e){e.isSelected&&(e.isFinished=1==t)}),this.updateStorage()},updateStorage:function(){localStorage.todos=a()(this.todos)}},computed:{finishTodos:function(){var t=[];return this.todos.forEach(function(e){e.isFinished&&t.push(e)}),t},unfinishTodos:function(){var t=[];return this.todos.forEach(function(e){e.isFinished||t.push(e)}),t},showTodos:function(){switch(this.showType){case"all":return this.todos;case"finish":return this.finishTodos;case"unfinish":return this.unfinishTodos;default:return this.todos}}},components:{AppTodo:n("VU/8")({name:"app-content",props:["todo","finish","remove"],data:function(){return{}}},r,!1,function(t){n("nzMi")},"data-v-3fcd4c18",null).exports},mounted:function(){l.$on("change-type",function(t){this.showType=t}.bind(this)),l.$on("add-new-todo",function(t){this.addNewTodo(t)}.bind(this)),l.$on("control-selected-todo",function(t){this.controlSelected(t)}.bind(this))}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content app-content"},[0==t.todos.length?n("p",[t._v("空空如也，快来添加一条吧")]):t._e(),t._v(" "),t._l(t.showTodos,function(e){return n("AppTodo",{key:e.id,class:{normal:!t.isSelect,select:t.isSelect},attrs:{isSelect:t.isSelect,finish:t.finish,remove:t.remove,todo:e}})})],2)},staticRenderFns:[]},h=n("VU/8")(d,u,!1,function(t){n("Uh+J")},"data-v-6ee86e49",null).exports,p={name:"app-header",data:function(){return{types:[{type:"all",content:"A"},{type:"finish",content:"F"},{type:"unfinish",content:"U"}],type:"all"}},methods:{changeType:function(t){l.$emit("change-type",t),this.type=t}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"bar bar-tab app-type-nav"},t._l(t.types,function(e){return n("div",{class:["circle",e.type,t.type==e.type?"active":""],on:{click:function(n){t.changeType(e.type)}}},[t._v(t._s(e.content))])}))},staticRenderFns:[]},v=n("VU/8")(p,f,!1,function(t){n("EWZB")},"data-v-27e7a335",null).exports,g={name:"app-control-nav",props:["toggleSelect"],data:function(){return{}},methods:{controlSelected:function(t){l.$emit("control-selected-todo",t)}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"bar bar-tab app-control-nav"},[n("div",{class:["circle","all active"],on:{click:function(e){t.controlSelected(1)}}},[t._v("F")]),t._v(" "),n("div",{class:["circle","finish active"],on:{click:function(e){t.controlSelected(2)}}},[t._v("U")]),t._v(" "),n("div",{class:["circle","unfinish active"],on:{click:function(e){t.controlSelected(3)}}},[t._v("R")]),t._v(" "),n("div",{class:["circle","all active"],on:{click:t.toggleSelect}},[t._v("取消")])])},staticRenderFns:[]},S=n("VU/8")(g,m,!1,function(t){n("EGHP")},"data-v-32fa0b5e",null).exports,_={name:"app-insert-box",props:{toggleInsertBox:Function},data:function(){return{content:""}},methods:{addNewTodo:function(){l.$emit("add-new-todo",this.content),this.content=""}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mask app-insert-box"},[n("div",{staticClass:"insert-box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("div",{staticClass:"btn-box"},[n("button",{staticClass:"button button-fill button-success",on:{click:t.addNewTodo}},[t._v("完成")]),t._v(" "),n("button",{staticClass:"button button-fill button-danger",on:{click:t.toggleInsertBox}},[t._v("取消")])])])])},staticRenderFns:[]},x={name:"app",data:function(){return{isInsertShow:!1,isSelect:!1}},methods:{toggleInsertBox:function(){this.isInsertShow=!this.isInsertShow},toggleSelect:function(){this.isSelect=!this.isSelect}},components:{AppHeader:i,AppContent:h,AppTypeNav:v,AppInsertBox:n("VU/8")(_,b,!1,function(t){n("Eg6o")},"data-v-75210572",null).exports,AppControlNav:S}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header",{attrs:{toggleInsertBox:this.toggleInsertBox},on:{"toggle-select":this.toggleSelect}}),this._v(" "),e("app-content",{attrs:{isSelect:this.isSelect,toggleInsertBox:this.toggleInsertBox}}),this._v(" "),e("transition-group",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutDown"}},[this.isSelect?e("AppControlNav",{key:"control",attrs:{toggleSelect:this.toggleSelect}}):e("AppTypeNav",{key:"type"})],1),this._v(" "),e("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[this.isInsertShow?e("AppInsertBox",{attrs:{toggleInsertBox:this.toggleInsertBox}}):this._e()],1)],1)},staticRenderFns:[]},C=n("VU/8")(x,y,!1,function(t){n("i3Ag")},null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",template:"<App/>",components:{App:C}})},"Uh+J":function(t,e){},ZzMW:function(t,e){},i3Ag:function(t,e){},nzMi:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.892507fdfa87b9c0a3eb.js.map